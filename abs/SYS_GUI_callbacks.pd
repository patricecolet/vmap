#N canvas 1322 265 450 205 10;
#X obj 160 109 sys_gui;
#X obj 160 86 r SYS_GUI;
#N canvas 668 264 669 424 setup 0;
#X obj 74 62 getdir;
#X msg 209 382 destroy .vmapgui;
#X obj 129 321 getdir;
#X obj 129 304 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 47 25 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 129 378 s SYS_GUI;
#X obj 87 254 s SYS_GUI;
#X msg 94 233 destroy .vmapgui \, rename ::patco::vmap::draw "";
#X obj 129 285 r .vmapgui.SetupDone;
#X obj 47 5 loadbang;
#X msg 74 197 eval [read [open \$1/../bin/vmap-gui.tcl]] \, ::patco::vmap::setup
.vmapgui;
#X msg 129 341 ::patco::vmap::draw .vmapgui \$1/../tmp/mediaPreview
, f 39;
#X msg 15 324 console show;
#X obj 47 42 t b b;
#X msg 93 154 \; SYS_GUI set dir [file join \$1/../bin bwidget] \,
source [file join $dir pkgIndex.tcl];
#X obj 74 83 t a a a;
#X obj 140 66 getdir;
#X obj 139 44 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 114 102 \; SYS_GUI set ico_geo [image create photo -file \$1/../media/img/Snub_hexahedron.gif]
;
#X connect 0 0 15 0;
#X connect 1 0 5 0;
#X connect 2 0 11 0;
#X connect 3 0 2 0;
#X connect 4 0 13 0;
#X connect 7 0 6 0;
#X connect 8 0 3 0;
#X connect 9 0 4 0;
#X connect 10 0 6 0;
#X connect 11 0 5 0;
#X connect 12 0 5 0;
#X connect 13 0 12 0;
#X connect 13 1 0 0;
#X connect 15 0 10 0;
#X connect 15 1 14 0;
#X connect 15 2 18 0;
#X connect 16 0 18 0;
#X connect 17 0 16 0;
#X restore 13 17 pd setup;
#X obj 158 12 r vmapgui-s;
#N canvas 31 68 450 300 menu 0;
#X obj 16 10 r vmapgui-s;
#X obj 17 33 route menu;
#X obj 17 58 route newFile openFile saveFile saveAsFile closeFile;
#X msg 17 247 \; newProject bang;
#X msg 36 207 \; loadProject bang;
#X msg 81 168 \; saveProject bang;
#X msg 283 92 \; newProject bang;
#X msg 157 131 \; saveProjectAs bang;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 2 2 5 0;
#X connect 2 3 7 0;
#X connect 2 4 6 0;
#X restore 14 37 pd menu;
#X obj 158 58 print GUI;
#X obj 231 36 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 158 36 spigot;
#N canvas 981 291 336 149 objects 1;
#N canvas 1057 51 480 290 ObjectSettings 0;
#X obj 19 109 list;
#X obj 19 234 s objName-r;
#X msg 37 183 .vmapgui.n.obj.pw.set.cbox set \$1;
#X obj 19 38 r vmapgui-s;
#X obj 37 205 s SYS_GUI;
#X obj 19 78 route Return Sel view;
#X obj 216 111 route Render Play;
#X obj 331 155 s objViewPlay-s;
#X obj 233 137 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 19 58 route object;
#X msg 67 124 \; objID-s \$1 \; objID-r set \$1;
#X obj 216 155 s objView-r;
#X obj 16 11 settings-callback object obj;
#X connect 0 0 2 0;
#X connect 0 0 1 0;
#X connect 2 0 4 0;
#X connect 3 0 9 0;
#X connect 5 0 0 0;
#X connect 5 1 10 0;
#X connect 5 2 6 0;
#X connect 6 0 8 0;
#X connect 6 0 11 0;
#X connect 6 1 7 0;
#X connect 9 0 5 0;
#X restore 23 18 pd ObjectSettings;
#N canvas 0 50 450 300 objectSelect 0;
#X obj 46 10 r objID-s;
#X msg 46 65 \; SYS_GUI .vmapgui.n.obj.pw.tree.view selection set obj\$1
;
#X obj 46 37 pipe 100;
#X connect 2 0 1 0;
#X restore 23 37 pd objectSelect;
#N canvas 928 105 588 300 objectMenu 1;
#X obj 76 31 r objMenu;
#N canvas 778 443 660 501 objMenuCascade 1;
#X obj 12 23 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 12 4 r .vmapgui.drawDone;
#X msg 43 103 rotate \, translate \, scale;
#X obj 147 355 list append "];
#X obj 147 376 list trim;
#X obj 147 397 s SYS_GUI;
#X obj 234 298 list append -command [list pdsend "vmapgui-s obj transform
add;
#X obj 55 224 symbol;
#X obj 147 337 list append;
#X obj 43 122 t a a;
#X obj 27 205 t a a;
#X msg 27 163 XY \, XZ \, YX \, YZ \, ZX \, ZY, f 7;
#X msg 55 244 shear\$1;
#X obj 27 280 list prepend shear;
#N canvas 467 382 689 515 surfaceMenu 0;
#X obj 63 2 inlet;
#X obj 139 409 makefilename %c;
#X obj 141 144 makefilename %c;
#X msg 141 125 123;
#X msg 139 390 125;
#X obj 65 430 list append;
#X obj 65 98 t a b, f 30;
#X obj 63 21 getdir;
#X obj 65 164 list append;
#X obj 65 367 t a b;
#X obj 65 448 list trim;
#X obj 63 78 list append *.pd];
#X obj 65 467 s SYS_GUI;
#X msg 63 40 \$1/geo;
#X obj 63 59 list prepend foreach geo [glob -tail -directory;
#X obj 65 186 list append pdsend "surfaceEntries [file rootname $geo]"
, f 19;
#X obj 215 249 t a b;
#X obj 268 269 f;
#X obj 308 269 + 1;
#X msg 334 226 0;
#X obj 215 295 list append;
#X obj 215 225 r surfaceEntries;
#X msg 300 142 \; SYS_GUI set settings(objGeo) 10;
#X msg 215 317 \; SYS_GUI .vmapgui.surfM add radiobutton -label \$1
-command [list pdsend "vmapgui-s obj geo \$2"] -value \$2 -variable
settings(objGeo);
#X connect 0 0 7 0;
#X connect 1 0 5 1;
#X connect 2 0 8 1;
#X connect 3 0 2 0;
#X connect 4 0 1 0;
#X connect 5 0 10 0;
#X connect 6 0 8 0;
#X connect 6 1 3 0;
#X connect 6 1 19 0;
#X connect 6 1 22 0;
#X connect 7 0 13 0;
#X connect 8 0 15 0;
#X connect 9 0 5 0;
#X connect 9 1 4 0;
#X connect 10 0 12 0;
#X connect 11 0 6 0;
#X connect 13 0 14 0;
#X connect 14 0 11 0;
#X connect 15 0 9 0;
#X connect 16 0 20 0;
#X connect 16 1 17 0;
#X connect 17 0 18 0;
#X connect 17 0 20 1;
#X connect 18 0 17 1;
#X connect 19 0 17 1;
#X connect 20 0 23 0;
#X connect 21 0 16 0;
#X restore 59 84 pd surfaceMenu;
#N canvas 886 155 590 599 materialMenu 0;
#X obj 67 158 until;
#X obj 67 179 f;
#X obj 101 190 + 1;
#X obj 66 125 t a b;
#X msg 113 159 0;
#X obj 66 104 getsize material mat;
#X obj 164 260 element material mat;
#X obj 164 281 get mat-array name;
#X obj 67 404 list append "];
#X obj 67 386 list append;
#X obj 67 216 t a a;
#X obj 67 425 list trim;
#X obj 67 446 s SYS_GUI;
#X obj 297 226 r materialPt;
#X obj 221 36 t b b;
#X obj 66 79 list;
#X obj 87 13 r materialPt;
#X obj 221 14 r matPt;
#X msg 248 60 \; SYS_GUI .vmapgui.matM delete 0 end;
#X obj 164 305 list prepend .vmapgui.matM add command -label;
#X obj 164 329 list append -command [list pdsend "vmapgui-s obj material
;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 10 0;
#X connect 2 0 1 1;
#X connect 3 0 0 0;
#X connect 3 1 4 0;
#X connect 4 0 1 1;
#X connect 5 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 19 0;
#X connect 8 0 11 0;
#X connect 9 0 8 0;
#X connect 10 0 6 0;
#X connect 10 1 9 1;
#X connect 11 0 12 0;
#X connect 13 0 6 1;
#X connect 14 0 15 0;
#X connect 14 1 18 0;
#X connect 15 0 5 0;
#X connect 16 0 15 1;
#X connect 17 0 14 0;
#X connect 19 0 20 0;
#X connect 20 0 9 0;
#X restore 301 110 pd materialMenu;
#X obj 12 40 t b b b b b;
#X obj 224 276 list prepend .vmapgui.transM add command -label;
#N canvas 1017 108 450 300 rootMenu 0;
#X obj 172 14 inlet;
#X msg 44 122 $objM add cascade -label Transform -menu $w.transM $objM
add checkbutton -label Separator -command [list pdsend "vmapgui-s obj
separator"];
#X restore 234 79 pd rootMenu;
#X connect 0 0 16 0;
#X connect 1 0 0 0;
#X connect 2 0 9 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 6 0 8 0;
#X connect 7 0 12 0;
#X connect 8 0 3 0;
#X connect 9 0 17 0;
#X connect 9 1 8 1;
#X connect 10 0 13 0;
#X connect 10 1 7 0;
#X connect 11 0 10 0;
#X connect 12 0 17 0;
#X connect 13 0 8 1;
#X connect 16 1 11 0;
#X connect 16 2 2 0;
#X connect 16 3 14 0;
#X connect 17 0 6 0;
#X restore 76 202 pd objMenuCascade;
#X msg 76 91 \; SYS_GUI set mx [winfo rootx .] \, set my [winfo rooty
.] \, set objW [tk_popup .vmapgui.objMenu $mx $my];
#N canvas 894 435 843 485 popupMenu 1;
#X obj 273 18 r objPopupMenu;
#X obj 273 38 list;
#X obj 13 162 list trim;
#X msg 13 252 objMenu;
#X msg 70 252 surfM;
#X msg 127 251 matM;
#X obj 13 323 symbol;
#X obj 244 370 list append;
#X obj 244 391 list trim;
#X obj 244 412 s SYS_GUI;
#X msg 13 343 tk_popup .vmapgui.\$1;
#X obj 273 58 list split 1;
#X obj 315 79 list split 1;
#X msg 357 378 \; SYS_GUI set settings(objGeo) \$1;
#X obj 358 335 list;
#X obj 70 207 t b b;
#X msg 458 290 \; SYS_GUI set settings(objGeo) \$1;
#X obj 459 247 list;
#X obj 459 267 get obj-array matID;
#X obj 357 358 get obj-array geoID;
#X obj 127 209 t b b;
#X obj 13 181 route object surface material transform;
#X obj 587 204 r objectPt;
#X obj 480 226 element object obj;
#X obj 137 136 list;
#X obj 131 91 t b a;
#X obj 104 112 del 100;
#X obj 445 5 r vmapgui-s;
#X obj 445 25 route obj;
#X obj 485 83 route geo separator material parent get;
#X obj 629 143 set obj-array matID, f 9;
#X obj 485 145 set obj-array geoID, f 9;
#X obj 568 143 set obj-array separator, f 9;
#X obj 532 111 route Separator, f 9;
#X obj 387 183 f;
#X obj 387 204 s objID-r;
#X obj 444 46 t b a;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 21 0;
#X connect 3 0 6 0;
#X connect 4 0 6 0;
#X connect 5 0 6 0;
#X connect 6 0 10 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 10 0 7 0;
#X connect 11 0 25 0;
#X connect 11 1 12 0;
#X connect 12 0 23 0;
#X connect 12 0 34 1;
#X connect 12 1 7 1;
#X connect 14 0 19 0;
#X connect 15 0 4 0;
#X connect 15 1 14 0;
#X connect 17 0 18 0;
#X connect 18 0 16 0;
#X connect 19 0 13 0;
#X connect 20 0 5 0;
#X connect 20 1 17 0;
#X connect 21 0 3 0;
#X connect 21 1 15 0;
#X connect 21 2 20 0;
#X connect 22 0 23 1;
#X connect 23 0 31 1;
#X connect 23 0 30 1;
#X connect 23 0 32 1;
#X connect 23 0 17 1;
#X connect 23 0 14 1;
#X connect 24 0 2 0;
#X connect 25 0 26 0;
#X connect 25 1 24 1;
#X connect 26 0 24 0;
#X connect 27 0 28 0;
#X connect 28 0 36 0;
#X connect 29 0 31 0;
#X connect 29 1 33 0;
#X connect 29 2 30 0;
#X connect 33 0 32 0;
#X connect 34 0 35 0;
#X connect 36 0 34 0;
#X connect 36 1 29 0;
#X restore 265 209 pd popupMenu;
#X connect 0 0 2 0;
#X restore 23 79 pd objectMenu;
#N canvas 1055 75 712 703 treeObjects 0;
#X obj 54 211 until;
#X obj 35 187 t b a b;
#X msg 100 187 0;
#X obj 54 233 f;
#X obj 83 232 + 1;
#X obj 36 128 pointer;
#X obj 35 147 t a p, f 22;
#X obj 73 108 r objectPt;
#X obj 35 167 getsize object obj;
#X obj 54 283 element object obj;
#X obj 54 257 t a a;
#X obj 81 355 list append;
#X obj 544 188 r vmapgui-s;
#X obj 544 209 route test;
#X obj 544 230 print test;
#X obj 54 304 t p p;
#N canvas 417 99 504 293 treeRoot 1;
#X obj 72 29 inlet;
#X obj 72 105 get obj-array id;
#X msg 72 126 \; SYS_GUI set objTree .vmapgui.n.obj.pw.tree.view \,
$objTree delete [$objTree nodes root] \, $objTree insert end root objects
-text "Objects" -image [Bitmap::get Folder] -open 1 -data root \, $objTree
bindText <3> "::patco::vmap::popupMenu $objTree %X %Y \$1";
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X restore 63 65 pd treeRoot;
#X obj 362 281 t a;
#X obj 53 538 element material mat;
#X obj 395 448 r materialPt;
#X obj 358 502 element object geo;
#X obj 571 458 r objectPt;
#X obj 4 5 r objPt;
#X obj 28 86 del 100;
#X obj 5 25 t a b p;
#X obj 53 482 get obj-array matID geoID;
#X obj 358 522 get geo-array name id;
#X obj 296 552 pack s f f;
#X obj 53 560 get mat-array name id;
#X obj 153 598 pack s f f;
#X msg 81 374 \; SYS_GUI $objTree insert end objects \$2 -text "\$1"
-image [Bitmap::get Folder] -open 1 -data "object \$2", f 27;
#X msg 153 645 \; SYS_GUI $objTree insert end \$2 obj\$2-mat-\$3 -text
"\$1" -image [Bitmap::get file] -data "material \$2";
#X msg 296 575 \; SYS_GUI $objTree insert end \$2 obj\$2-geo-\$3 -text
"\$1" -image $ico_geo -data "surface \$2";
#X obj 81 322 get obj-array name id, f 13;
#X connect 0 0 3 0;
#X connect 1 1 0 0;
#X connect 1 2 2 0;
#X connect 2 0 3 1;
#X connect 3 0 4 0;
#X connect 3 0 10 0;
#X connect 4 0 3 1;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 6 1 9 1;
#X connect 7 0 5 1;
#X connect 8 0 1 0;
#X connect 9 0 15 0;
#X connect 10 0 9 0;
#X connect 11 0 30 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 15 0 25 0;
#X connect 15 1 33 0;
#X connect 17 0 27 1;
#X connect 17 0 29 1;
#X connect 18 0 28 0;
#X connect 19 0 18 1;
#X connect 20 0 26 0;
#X connect 21 0 20 1;
#X connect 22 0 24 0;
#X connect 23 0 5 0;
#X connect 24 1 23 0;
#X connect 24 2 16 0;
#X connect 25 0 18 0;
#X connect 25 1 20 0;
#X connect 26 0 27 0;
#X connect 26 1 27 2;
#X connect 27 0 32 0;
#X connect 28 0 29 0;
#X connect 28 1 29 2;
#X connect 29 0 31 0;
#X connect 33 0 11 0;
#X connect 33 1 11 1;
#X connect 33 1 17 0;
#X restore 21 58 pd treeObjects;
#X restore 14 140 pd objects;
#N canvas 263 156 253 179 textures 0;
#N canvas 480 496 905 516 Texcoordinates 0;
#X obj 535 73 r vmapgui-s;
#X obj 535 197 t b a;
#X obj 7 20 r texCoordPt;
#X obj 89 329 list;
#X obj 85 376 s SYS_GUI;
#X msg 85 349 set settings(v\$1) \$2;
#X obj 166 16 r texMediaInit;
#X msg 98 43 bang;
#X obj 535 116 route coord;
#X obj 535 94 route tex;
#X obj 377 194 pack f f f f f f f f;
#X obj 563 226 route blx bly brx bry tlx tly trx try;
#X obj 530 265 set texcoord-array blx bly brx bry tlx tly trx try;
#X obj 11 109 get texcoord-array blx bly brx bry tlx tly trx try;
#X msg 10 282 blx \$1;
#X msg 60 282 bly \$1;
#X msg 103 282 brx \$1;
#X msg 150 282 bry \$1;
#X msg 196 282 tlx \$1;
#X msg 242 282 tly \$1;
#X msg 288 282 trx \$1;
#X msg 334 282 try \$1;
#X obj 55 82 pointer;
#X obj 32 47 t p p;
#X connect 0 0 9 0;
#X connect 1 0 12 0;
#X connect 1 1 11 0;
#X connect 2 0 23 0;
#X connect 3 0 5 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 7 0 22 0;
#X connect 8 0 1 0;
#X connect 9 0 8 0;
#X connect 10 0 12 0;
#X connect 11 0 12 0;
#X connect 11 1 12 1;
#X connect 11 2 12 2;
#X connect 11 3 12 3;
#X connect 11 4 12 4;
#X connect 11 5 12 5;
#X connect 11 6 12 6;
#X connect 11 7 12 7;
#X connect 13 0 14 0;
#X connect 13 0 10 0;
#X connect 13 1 15 0;
#X connect 13 1 10 1;
#X connect 13 2 16 0;
#X connect 13 2 10 2;
#X connect 13 3 17 0;
#X connect 13 3 10 3;
#X connect 13 4 18 0;
#X connect 13 4 10 4;
#X connect 13 5 19 0;
#X connect 13 5 10 5;
#X connect 13 6 20 0;
#X connect 13 6 10 6;
#X connect 13 7 21 0;
#X connect 13 7 10 7;
#X connect 14 0 3 0;
#X connect 15 0 3 0;
#X connect 16 0 3 0;
#X connect 17 0 3 0;
#X connect 18 0 3 0;
#X connect 19 0 3 0;
#X connect 20 0 3 0;
#X connect 21 0 3 0;
#X connect 22 0 13 0;
#X connect 23 0 22 0;
#X connect 23 1 12 8;
#X restore 6 69 pd Texcoordinates;
#N canvas 369 247 1043 670 textureEffect 0;
#X obj 341 366 t l, f 4;
#X obj 48 352 list;
#X obj 48 523 list trim;
#X obj 155 463 makefilename %c;
#X obj 153 414 makefilename %c;
#X msg 153 394 123;
#X msg 155 444 125;
#X obj 48 455 list prepend;
#X obj 48 485 list append;
#X obj 48 377 t a b;
#X obj 500 271 list;
#X obj 68 251 until;
#X obj 68 232 max 1;
#X obj 69 270 f, f 6;
#X obj 117 270 + 1;
#X msg 113 246 0;
#X obj 68 193 f, f 19;
#X obj 69 331 list prepend, f 30;
#X obj 68 212 t a b, f 8;
#X obj 47 92 t b a, f 53;
#X obj 457 572 f;
#X obj 501 18 r vmapgui-s;
#X obj 69 311 get fx-array name;
#X obj 47 130 trigger bang bang bang anything, f 50;
#X obj 454 550 t b a;
#X obj 340 157 s SYS_GUI;
#X obj 486 573 s SYS_GUI;
#X msg 546 455 \; texFxID-r \$1;
#X obj 47 54 trigger pointer pointer;
#X obj 48 34 pointer;
#X obj 160 152 r texPt;
#X obj 47 7 r texPt;
#X obj 825 14 r texFxPt;
#X obj 500 60 route Return Sel Set Preset;
#X obj 752 328 set fx-param value;
#X obj 766 247 element fx-array param;
#X obj 641 104 text size -s fx-array presets, f 16;
#X obj 641 82 t a a;
#X obj 641 177 until;
#X obj 641 158 max 1;
#X obj 642 196 f, f 6;
#X obj 690 196 + 1;
#X msg 686 172 0;
#X obj 641 138 t a b, f 8;
#X obj 652 271 text get -s fx-array presets, f 12;
#X obj 642 243 list prepend;
#X obj 642 215 t a a;
#X obj 642 358 list prepend;
#X msg 47 111 .vmapgui.n.tex.pw.fx.cbox delete 0 end;
#X obj 48 504 list prepend .vmapgui.n.tex.pw.fx.cbox configure -values
;
#X msg 457 595 \; SYS_GUI .vmapgui.n.tex.pw.fx.cbox current \$1;
#X msg 500 489 \; SYS_GUI .vmapgui.n.tex.pw.fx.cbox set \$1;
#X msg 643 383 \; SYS_GUI .vmapgui.n.tex.pw.fx.param.p\$1.v set \$2
;
#X obj 160 172 getsize tex-array fx;
#X obj 69 291 element tex-array fx;
#X obj 47 73 get tex-array fxID;
#X obj 105 8 r fxFilesDone;
#X obj 501 37 route fx;
#X obj 579 428 s texFxSet;
#X obj 579 409 list;
#X connect 0 0 17 1;
#X connect 1 0 9 0;
#X connect 2 0 24 0;
#X connect 3 0 8 1;
#X connect 4 0 7 1;
#X connect 5 0 4 0;
#X connect 6 0 3 0;
#X connect 7 0 8 0;
#X connect 8 0 49 0;
#X connect 9 0 7 0;
#X connect 9 1 5 0;
#X connect 9 1 6 0;
#X connect 10 0 51 0;
#X connect 11 0 13 0;
#X connect 12 0 11 0;
#X connect 13 0 14 0;
#X connect 13 0 54 0;
#X connect 14 0 13 1;
#X connect 15 0 13 1;
#X connect 16 0 18 0;
#X connect 17 0 0 0;
#X connect 17 0 1 1;
#X connect 18 0 12 0;
#X connect 18 1 15 0;
#X connect 19 0 48 0;
#X connect 19 1 20 1;
#X connect 20 0 50 0;
#X connect 21 0 57 0;
#X connect 22 0 17 0;
#X connect 23 0 1 0;
#X connect 23 1 16 0;
#X connect 23 2 0 0;
#X connect 23 3 25 0;
#X connect 24 0 20 0;
#X connect 24 1 26 0;
#X connect 28 0 55 0;
#X connect 28 1 54 1;
#X connect 29 0 28 0;
#X connect 30 0 53 0;
#X connect 31 0 29 0;
#X connect 32 0 35 1;
#X connect 32 0 36 1;
#X connect 32 0 44 3;
#X connect 33 0 10 0;
#X connect 33 1 27 0;
#X connect 33 2 10 0;
#X connect 33 2 59 0;
#X connect 33 3 37 0;
#X connect 35 0 34 1;
#X connect 36 0 43 0;
#X connect 37 0 36 0;
#X connect 37 1 45 1;
#X connect 38 0 40 0;
#X connect 39 0 38 0;
#X connect 40 0 41 0;
#X connect 40 0 46 0;
#X connect 41 0 40 1;
#X connect 42 0 40 1;
#X connect 43 0 39 0;
#X connect 43 1 42 0;
#X connect 44 0 34 0;
#X connect 44 0 47 0;
#X connect 45 0 44 0;
#X connect 46 0 45 0;
#X connect 46 1 35 0;
#X connect 46 1 47 1;
#X connect 47 0 52 0;
#X connect 48 0 23 0;
#X connect 49 0 2 0;
#X connect 53 0 16 1;
#X connect 54 0 22 0;
#X connect 55 0 19 0;
#X connect 56 0 29 0;
#X connect 57 0 33 0;
#X connect 59 0 58 0;
#X restore 6 110 pd textureEffect;
#N canvas 469 50 660 700 chooseEffect 0;
#X obj 120 512 makefilename %c;
#X obj 294 292 makefilename %c;
#X msg 294 273 123;
#X msg 120 493 125;
#X obj 46 533 list append;
#X obj 218 263 t a b;
#X obj 56 154 getdir;
#X obj 12 23 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 218 312 list append;
#X obj 46 470 t a b;
#X obj 46 553 list trim;
#X obj 218 242 list append *.pd];
#X obj 218 222 list prepend foreach fx [glob -tail -directory;
#X obj 12 4 r .vmapgui.drawDone;
#X msg 25 620 set fxFilesName "";
#X obj 25 166 b;
#X obj 46 590 s SYS_GUI;
#X msg 12 657 $fxmenu add cascade -label pix -menu $fxmenu.pix \, $fxmenu
add cascade -label glsl -menu $fxmenu.glsl;
#X msg 82 90 pix \, glsl;
#X obj 82 128 t b a;
#X obj 218 182 list append;
#X obj 126 335 list append;
#X obj 82 109 list;
#X obj 12 39 t b b b b;
#X msg 184 78 \; SYS_GUI set fxmenu .vmapgui.n.tex.pw.fx.menu \, menu
$fxmenu.glsl \, menu $fxmenu.pix;
#X msg 140 553 .vmapgui.n.tex.pw.fx.menu delete 0 end;
#X msg 189 127 .vmapgui.n.tex.pw.fx.menu.\$1;
#X obj 46 441 list append "];
#X obj 46 423 list append;
#X msg 273 432 \; SYS_GUI delete fxmenu .vmapgui.n.tex.pw.fx.menu \,
delete $fxmenu.glsl \, delete $fxmenu.pix;
#X obj 126 358 list append add command -label [file rootname $fx] -command
[list pdsend "vmapgui-s fx Set list [file rootname $fx];
#X msg 218 203 \$1/fx/\$2;
#X connect 0 0 4 1;
#X connect 1 0 8 1;
#X connect 2 0 1 0;
#X connect 3 0 0 0;
#X connect 4 0 10 0;
#X connect 5 0 8 0;
#X connect 5 1 2 0;
#X connect 6 0 20 0;
#X connect 7 0 23 0;
#X connect 8 0 21 0;
#X connect 9 0 4 0;
#X connect 9 1 3 0;
#X connect 10 0 16 0;
#X connect 11 0 5 0;
#X connect 12 0 11 0;
#X connect 13 0 7 0;
#X connect 14 0 16 0;
#X connect 15 0 14 0;
#X connect 17 0 16 0;
#X connect 18 0 22 0;
#X connect 19 0 6 0;
#X connect 19 1 20 1;
#X connect 19 1 26 0;
#X connect 19 1 28 1;
#X connect 20 0 31 0;
#X connect 21 0 30 0;
#X connect 22 0 19 0;
#X connect 23 0 17 0;
#X connect 23 1 18 0;
#X connect 23 2 15 0;
#X connect 23 3 24 0;
#X connect 25 0 16 0;
#X connect 26 0 21 1;
#X connect 27 0 9 0;
#X connect 28 0 27 0;
#X connect 30 0 28 0;
#X connect 31 0 12 0;
#X restore 6 90 pd chooseEffect;
#N canvas 830 321 642 680 fxParam 0;
#X obj 293 301 i;
#X obj 157 6 r texFxPt;
#X obj 11 175 element fx-array param;
#X obj 11 56 getsize fx-array param;
#X obj 11 115 until;
#X obj 11 96 max 1;
#X obj 11 134 f;
#X obj 41 134 + 1;
#X msg 54 112 0;
#X obj 11 76 t a b;
#X obj 11 154 t a a, f 44;
#X obj 157 26 t p p p;
#X obj 293 281 / 4;
#X obj 339 346 mod 4;
#X msg 320 523 \; SYS_GUI $param.v configure -value \$1;
#X obj 83 392 list append;
#X obj 350 139 element fx-array param;
#X obj 350 177 set fx-param value;
#X obj 501 120 r texFxPt;
#X obj 373 35 r vmapgui-s;
#X obj 373 55 route fx;
#X obj 373 74 route param;
#X text 457 34 retrieve value;
#X obj 374 95 list split 1;
#X obj 350 158 list prepend;
#X obj 230 365 list append;
#X obj 230 387 list append;
#X msg 77 294 \$6;
#X obj 77 314 route symbol;
#X obj 83 372 list;
#X obj 77 275 t a a;
#X obj 203 334 t b a;
#N canvas 342 105 450 300 prepareUI 0;
#X obj 30 46 inlet;
#X obj 31 68 get fx-array name;
#X msg 31 88 \; SYS_GUI destroy .vmapgui.n.tex.pw.fx.param \, grid
[ttk::labelframe .vmapgui.n.tex.pw.fx.param -text \$1] -columnspan
3;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X restore 230 61 pd prepareUI;
#N canvas 0 387 602 498 presets 0;
#X obj 22 7 inlet;
#X obj 22 51 text size -s fx-array presets, f 12;
#X obj 22 100 moses 1;
#X obj 68 160 until;
#X obj 68 192 f;
#X obj 101 192 + 1;
#X msg 132 158 0;
#X obj 68 127 t a b b;
#X obj 22 29 t b p;
#X msg 171 73 \; SYS_GUI set pPreset .vmapgui.n.tex.pw.fx.param \,
set FXpresets [ttk::menubutton $pPreset.presets -text "preset" -menu
$pPreset.presetMenu ] \, grid $FXpresets -row 0 -columnspan 4 -sticky
news \, menu $pPreset.presetMenu -tearoff 0;
#X msg 68 220 \; SYS_GUI $pPreset.presetMenu add command -label \$1
-command [list pdsend "vmapgui-s fx Preset \$1"];
#X connect 0 0 8 0;
#X connect 1 0 2 0;
#X connect 2 1 7 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 0 10 0;
#X connect 5 0 4 1;
#X connect 6 0 4 1;
#X connect 7 0 3 0;
#X connect 7 1 6 0;
#X connect 7 2 9 0;
#X connect 8 0 1 0;
#X connect 8 1 1 1;
#X restore 220 102 pd presets;
#X obj 293 325 + 1;
#X obj 320 245 t a a a;
#X obj 230 414 list append;
#X obj 302 617 s SYS_GUI;
#X msg 236 580 .vmapgui.n.tex.pw paneconfigure .vmapgui.n.tex.pw.fx
-minsize 300;
#N canvas 26 359 410 445 mediamenu 0;
#X obj 20 12 inlet;
#X obj 59 118 r texPt;
#X obj 20 138 pointer;
#X obj 20 182 getsize tex-array media;
#X obj 20 244 until;
#X obj 20 158 t a b;
#X obj 20 274 f;
#X obj 48 275 + 1;
#X obj 48 297 element tex-array media;
#X obj 183 278 r texPt;
#X msg 173 179 0;
#X obj 48 318 get media-array id;
#X obj 20 202 - 1;
#X obj 20 223 max 1;
#X obj 20 36 t b b a;
#X msg 48 341 \; SYS_GUI $param.mb.m add command -label \$1 -command
[list pdsend "vmapgui-s fx media \$1"];
#X msg 47 58 \; SYS_GUI menubutton $param.mb -text "Select" -menu $param.mb.m
\, grid $param.mb \, menu $param.mb.m;
#X connect 0 0 14 0;
#X connect 1 0 2 1;
#X connect 2 0 5 0;
#X connect 3 0 12 0;
#X connect 4 0 6 0;
#X connect 5 0 3 0;
#X connect 5 1 10 0;
#X connect 6 0 7 0;
#X connect 7 0 6 1;
#X connect 7 0 8 0;
#X connect 8 0 11 0;
#X connect 9 0 8 1;
#X connect 10 0 6 1;
#X connect 11 0 15 0;
#X connect 12 0 13 0;
#X connect 13 0 4 0;
#X connect 14 0 2 0;
#X connect 14 1 16 0;
#X restore 83 591 pd mediamenu;
#X obj 83 412 route 2;
#X obj 122 432 t a a;
#X obj 122 484 route 0 1;
#N canvas 951 48 450 300 checkbox 0;
#X obj 249 104 inlet;
#X msg 29 142 \; SYS_GUI set settings(c\$8) \$4 \, checkbutton $param.c
-command "::patco::vmap::sendvar fx param \$8 c" -variable settings(c\$8)
\, grid $param.c;
#X connect 0 0 1 0;
#X restore 122 533 pd checkbox;
#N canvas 996 599 441 186 slider 0;
#X obj 46 42 inlet;
#X msg 46 85 \; SYS_GUI set settings(\$5) \$4 \, scale $param.v -from
\$2 -to \$1 -resolution \$3 -command "::patco::vmap::sendscale fx param
\$8" -variable settings(\$5) \, grid $param.v;
#X connect 0 0 1 0;
#X restore 147 511 pd slider;
#X msg 230 434 \; SYS_GUI set param [labelframe .vmapgui.n.tex.pw.fx.param.p\$4
-text \$1] \, grid $param -column \$3 -row \$2;
#X msg 66 633 \; SYS_GUI toplevel .text;
#N canvas 0 50 450 300 modul 0;
#X obj 58 36 inlet;
#X obj 85 85 pointer;
#X obj 58 59 t a b;
#X obj 124 60 r texPt;
#X obj 85 107 get tex-array id fxID;
#X obj 58 153 list append;
#X obj 121 131 list append;
#X msg 58 197 \; SYS_GUI grid [button $param.l -text "c" -command [list
pdsend "vmapgui-s modul open texture tex \$11 fx \$10 \$9"]];
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 5 0;
#X connect 2 1 1 0;
#X connect 3 0 1 1;
#X connect 4 0 6 0;
#X connect 4 1 6 1;
#X connect 5 0 7 0;
#X connect 6 0 5 1;
#X restore 150 457 pd modul;
#X obj 13 196 get fx-param type min max incr value name modulId modulEnable
, f 36;
#X obj 77 256 pack f f f f f s f f;
#X connect 0 0 34 0;
#X connect 1 0 11 0;
#X connect 2 0 48 0;
#X connect 3 0 9 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 6 0 10 0;
#X connect 7 0 6 1;
#X connect 8 0 6 1;
#X connect 9 0 5 0;
#X connect 9 1 8 0;
#X connect 10 0 2 0;
#X connect 10 1 15 1;
#X connect 10 1 35 0;
#X connect 11 0 3 0;
#X connect 11 1 2 1;
#X connect 11 1 33 0;
#X connect 11 2 32 0;
#X connect 12 0 0 0;
#X connect 13 0 26 1;
#X connect 15 0 40 0;
#X connect 16 0 24 0;
#X connect 18 0 16 1;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 23 0;
#X connect 23 0 16 0;
#X connect 23 1 24 1;
#X connect 24 0 17 0;
#X connect 25 0 26 0;
#X connect 26 0 36 0;
#X connect 27 0 28 0;
#X connect 28 1 31 0;
#X connect 29 0 15 0;
#X connect 30 0 27 0;
#X connect 30 1 29 1;
#X connect 31 0 29 0;
#X connect 31 1 25 0;
#X connect 34 0 25 1;
#X connect 35 0 12 0;
#X connect 35 1 13 0;
#X connect 35 2 36 1;
#X connect 36 0 45 0;
#X connect 38 0 37 0;
#X connect 40 0 39 0;
#X connect 40 1 41 0;
#X connect 41 0 42 0;
#X connect 41 1 47 0;
#X connect 42 0 43 0;
#X connect 42 1 44 0;
#X connect 48 0 49 0;
#X connect 48 1 49 1;
#X connect 48 2 49 2;
#X connect 48 3 49 3;
#X connect 48 4 49 4;
#X connect 48 5 49 5;
#X connect 48 6 49 6;
#X connect 48 7 49 7;
#X connect 49 0 30 0;
#X restore 7 133 pd fxParam;
#N canvas 981 255 474 567 textureSettings 0;
#X obj 29 154 list;
#X obj 29 33 r vmapgui-s;
#X obj 47 200 s SYS_GUI;
#X obj 29 73 route Return Sel view;
#X obj 226 106 route Render Play;
#X obj 55 516 s SYS_GUI;
#X obj 26 409 route 0 1;
#X obj 203 336 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 26 359 t a b;
#X obj 82 356 t a b;
#X obj 54 471 list prepend;
#X msg 101 439 select;
#X msg 33 439 deselect;
#X msg 169 414 render;
#X msg 232 414 play;
#X obj 82 334 spigot;
#X obj 115 295 r .vmapgui.SetupDone;
#X msg 115 314 1;
#X obj 243 132 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 341 150 s texViewPlay-s;
#X msg 47 178 .vmapgui.n.tex.pw.set.cbox set \$1;
#X obj 29 230 s texName-r;
#X obj 82 273 r texViewPlay-r;
#X msg 55 494 .vmapgui.n.tex.pw.set.\$1 \$2;
#X obj 29 53 route tex;
#X obj 26 254 r texView-s;
#X obj 226 150 s texView-r;
#X msg 70 110 \; texID-s \$1 \;;
#X obj 29 10 settings-callback texture tex;
#X connect 0 0 20 0;
#X connect 0 0 21 0;
#X connect 1 0 24 0;
#X connect 3 0 0 0;
#X connect 3 1 27 0;
#X connect 3 2 4 0;
#X connect 4 0 18 0;
#X connect 4 0 26 0;
#X connect 4 1 19 0;
#X connect 6 0 12 0;
#X connect 6 1 11 0;
#X connect 8 0 6 0;
#X connect 8 1 13 0;
#X connect 9 0 6 0;
#X connect 9 1 14 0;
#X connect 10 0 23 0;
#X connect 11 0 10 0;
#X connect 12 0 10 0;
#X connect 13 0 10 1;
#X connect 14 0 10 1;
#X connect 15 0 9 0;
#X connect 16 0 17 0;
#X connect 17 0 15 1;
#X connect 20 0 2 0;
#X connect 22 0 15 0;
#X connect 23 0 5 0;
#X connect 24 0 3 0;
#X connect 25 0 8 0;
#X restore 6 7 pd textureSettings;
#N canvas 1228 388 393 166 Media 0;
#N canvas 0 492 498 351 objectShow 0;
#X obj 115 36 list split 1;
#X obj 115 15 r objShow;
#X obj 155 57 get object id;
#X obj 42 63 sel 1;
#X msg 42 83 normal;
#X msg 98 83 hidden;
#X obj 42 111 list append, f 20;
#X obj 43 152 list trim;
#X obj 115 201 r delTexMediaPrev;
#X floatatom 152 229 5 0 0 0 - - -;
#X obj 43 308 s SYS_GUI;
#X msg 124 253 .vmapgui.n.tex.pw.media.c delete media\$1;
#X msg 43 130 list .vmapgui.n.tex.pw.media.c itemconfigure act\$2 -state
\$1;
#X connect 0 0 3 0;
#X connect 0 1 2 0;
#X connect 1 0 0 0;
#X connect 2 0 6 1;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 6 0;
#X connect 5 0 6 0;
#X connect 6 0 12 0;
#X connect 7 0 10 0;
#X connect 8 0 11 0;
#X connect 9 0 11 0;
#X connect 11 0 10 0;
#X connect 12 0 7 0;
#X restore 14 112 pd objectShow;
#N canvas 726 775 366 188 MediaSelect 0;
#X obj 59 54 route media;
#X msg 59 118 \; texMediaID-s \$1 \; texMediaID-r set \$1;
#X obj 59 35 r vmapgui-s;
#X obj 59 73 route Sel;
#X obj 169 68 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 59 94 change;
#X connect 0 0 3 0;
#X connect 2 0 0 0;
#X connect 3 0 5 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X restore 164 33 pd MediaSelect;
#N canvas 866 162 379 545 mediaDelete 0;
#X obj 87 437 f;
#X obj 58 491 s SYS_GUI;
#X msg 87 460 .vmapgui.n.tex.pw.media.cbox current \$1;
#X msg 58 79 .vmapgui.n.tex.pw.media.c delete all;
#X obj 58 36 r texclear;
#X obj 235 345 makefilename %c;
#X obj 233 306 makefilename %c;
#X msg 233 286 123;
#X msg 235 326 125;
#X obj 128 325 list prepend;
#X obj 128 345 list append;
#X msg 128 159 foreach w [winfo children .vmapgui.n.tex.pw.media.c]
, f 25;
#X obj 128 371 list prepend;
#X obj 128 200 t b a b;
#X obj 128 392 list trim;
#X msg 128 291 destroy $w;
#X obj 58 57 t b b;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 16 0;
#X connect 5 0 10 1;
#X connect 6 0 9 1;
#X connect 7 0 6 0;
#X connect 8 0 5 0;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 11 0 13 0;
#X connect 12 0 14 0;
#X connect 13 0 15 0;
#X connect 13 1 12 1;
#X connect 13 2 7 0;
#X connect 13 2 8 0;
#X connect 14 0 1 0;
#X connect 15 0 9 0;
#X connect 16 0 3 0;
#X connect 16 1 11 0;
#X restore 13 89 pd mediaDelete;
#N canvas 723 567 940 583 mediaMenu 0;
#X obj 239 367 s SYS_GUI;
#X obj 84 31 getsize media m;
#X obj 45 117 until;
#X obj 45 138 f;
#X obj 74 139 + 1;
#X obj 45 161 element media m;
#X obj 220 121 r mediaPt;
#X msg 239 218 .vmapgui.n.tex.pw.media.menu delete 0 end, f 28;
#X obj 84 9 r addMediaDone;
#X obj 84 88 t a b;
#X obj 373 71 route media;
#X obj 373 50 route texture;
#X obj 373 29 r vmapgui-s;
#X msg 420 217 .vmapgui.n.tex.pw.media.mb configure -text \$1, f 26
;
#X obj 373 92 route set add del;
#X obj 45 180 get m-array name id;
#X obj 45 200 pack s f;
#X msg 45 219 .vmapgui.n.tex.pw.media.menu add command -label \$1 -command
[list pdsend "vmapgui-s texture media set \$1 \$2"], f 29;
#X msg 373 148 symbol \$1;
#X obj 814 205 f;
#X symbolatom 289 190 10 0 0 0 - - -;
#X obj 373 117 list;
#X floatatom 814 225 5 0 0 0 - - -;
#X msg 96 118 1;
#X obj 84 70 max 1;
#X obj 84 51 - 1;
#X obj 605 374 outlet;
#X obj 773 277 s addTexMedia;
#X obj 753 297 s texMediaSel;
#X obj 605 352 list prepend add;
#X obj 734 255 t a a b;
#X obj 795 155 list split 1;
#X obj 695 207 f;
#X obj 695 228 moses 1;
#X connect 1 0 25 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 15 0;
#X connect 6 0 5 1;
#X connect 7 0 0 0;
#X connect 8 0 1 0;
#X connect 9 0 2 0;
#X connect 9 1 23 0;
#X connect 9 1 7 0;
#X connect 10 0 14 0;
#X connect 11 0 10 0;
#X connect 12 0 11 0;
#X connect 13 0 0 0;
#X connect 14 0 21 0;
#X connect 14 1 32 0;
#X connect 14 2 19 0;
#X connect 15 0 16 0;
#X connect 15 1 16 1;
#X connect 16 0 17 0;
#X connect 17 0 0 0;
#X connect 18 0 13 0;
#X connect 18 0 20 0;
#X connect 19 0 22 0;
#X connect 21 0 18 0;
#X connect 21 0 31 0;
#X connect 23 0 3 1;
#X connect 24 0 9 0;
#X connect 25 0 24 0;
#X connect 29 0 26 0;
#X connect 30 0 29 0;
#X connect 30 1 28 0;
#X connect 30 2 27 0;
#X connect 31 1 19 1;
#X connect 31 1 32 1;
#X connect 32 0 33 0;
#X connect 33 1 30 0;
#X restore 13 39 pd mediaMenu;
#N canvas 742 84 428 436 mediaThumbnail 0;
#X obj 12 8 inlet;
#X obj 184 386 s SYS_GUI;
#X obj 12 49 route add;
#X obj 12 29 list trim;
#X obj 12 68 t a b;
#X obj 31 186 list append;
#X obj 333 186 r mediaPt;
#X obj 246 207 element media m;
#X obj 184 321 list append;
#N canvas 1204 58 649 464 mediaInfo 0;
#X obj 270 408 outlet;
#X obj 32 252 list append;
#X obj 82 4 inlet;
#X obj 270 389 list append 0;
#X obj 178 203 list append;
#X msg 178 131 "W:\$1;
#X obj 268 203 route 0 1 2 3;
#X msg 275 131 H:\$1;
#X obj 373 138 t a a;
#X obj 74 324 list append;
#X obj 98 64 t a a b;
#X obj 74 342 list append ";
#N canvas 0 50 450 300 imageData 0;
#X obj 68 20 inlet;
#X obj 68 97 pointer;
#X obj 68 256 outlet;
#X msg 68 211 B:\$1 C:\$2 T:\$3 U:\$4 N:\$5;
#X obj 68 191 pack f f f f f;
#X obj 68 126 get image-array bytes type colour-space upsidedown notowed
;
#X obj 105 76 r media-imagePt;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X connect 5 2 4 2;
#X connect 5 3 4 3;
#X connect 5 4 4 4;
#X connect 6 0 1 1;
#X restore 171 267 pd imageData;
#N canvas 163 558 450 300 filmData 0;
#X obj 68 20 inlet;
#X obj 68 97 pointer;
#X obj 68 256 outlet;
#X obj 105 76 r mPt;
#X obj 68 126 get m-array length;
#X msg 68 211 length:\$1 offset:0 end:\$1 auto:0 fps:30 frame:0;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 3 0 1 1;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X restore 260 268 pd filmData;
#X obj 32 107 get m-array name, f 15;
#X obj 178 112 get m-array width height type;
#X connect 1 0 9 0;
#X connect 2 0 10 0;
#X connect 3 0 0 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 6 0 12 0;
#X connect 6 1 13 0;
#X connect 7 0 4 1;
#X connect 8 0 6 0;
#X connect 8 1 3 1;
#X connect 9 0 11 0;
#X connect 10 0 14 0;
#X connect 10 1 15 0;
#X connect 10 2 9 1;
#X connect 11 0 3 0;
#X connect 12 0 9 1;
#X connect 13 0 9 1;
#X connect 14 0 1 0;
#X connect 15 0 5 0;
#X connect 15 1 7 0;
#X connect 15 2 8 0;
#X restore 247 230 pd mediaInfo;
#X obj 184 343 list trim;
#X obj 131 71 r texPt;
#X obj 93 92 pointer;
#X obj 94 141 - 1;
#X obj 6 185 f;
#X obj 12 141 t b a a;
#X obj 6 385 s vmapgui-s;
#X msg 6 365 media Sel \$1;
#X obj 94 116 get tex-array mediaID id;
#X obj 75 213 list append;
#X msg 31 237 ::patco::vmap::mediaSettings .vmapgui.n.tex.pw.media
\$1 \$2 \$3, f 28;
#X floatatom 278 149 5 0 0 0 - - -;
#X msg 230 167 tex\$1;
#X connect 0 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 15 0;
#X connect 4 1 12 0;
#X connect 5 0 19 0;
#X connect 6 0 7 1;
#X connect 7 0 9 0;
#X connect 8 0 10 0;
#X connect 9 0 8 1;
#X connect 10 0 1 0;
#X connect 11 0 12 1;
#X connect 12 0 18 0;
#X connect 13 0 5 1;
#X connect 14 0 17 0;
#X connect 15 0 14 0;
#X connect 15 1 5 0;
#X connect 15 2 7 0;
#X connect 17 0 16 0;
#X connect 18 0 13 0;
#X connect 18 0 14 1;
#X connect 18 1 21 0;
#X connect 18 1 22 0;
#X connect 19 0 20 0;
#X connect 20 0 8 0;
#X connect 22 0 19 1;
#X restore 13 63 pd mediaThumbnail;
#X obj 280 50 route media;
#X obj 280 31 r vmapgui-s;
#X obj 281 73 s texMediaSet;
#X connect 3 0 4 0;
#X connect 5 0 7 0;
#X connect 6 0 5 0;
#X restore 6 48 pd Media;
#N canvas 539 448 460 233 textureSelect 0;
#X msg 66 81 \; SYS_GUI .vmapgui.n.tex.pw.media.c itemconfigure all
-state hidden;
#X obj 39 37 r texID-s;
#X obj 39 58 t a b;
#X msg 39 127 \; SYS_GUI .vmapgui.n.tex.pw.media.c itemconfigure tex\$1
-state normal;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 0 0;
#X restore 6 27 pd textureSelect;
#X restore 13 98 pd textures;
#N canvas 1071 521 450 300 scenes 0;
#X restore 14 160 pd scenes;
#N canvas 348 331 251 132 material 0;
#N canvas 932 440 790 530 materialParam 0;
#X obj 42 18 r vmapgui-s;
#X obj 42 39 route matRgbScale;
#N canvas 292 232 529 626 set 0;
#X obj 73 131 pointer;
#X obj 105 253 until;
#X obj 105 276 f;
#X obj 167 278 + 1;
#X obj 105 192 t a b;
#X obj 105 232 max 1;
#X msg 160 244 0;
#X obj 105 314 element mat-array RGB, f 13;
#X obj 105 173 getsize mat-array RGB;
#X obj 106 372 get rgb-param name;
#X obj 106 392 list trim;
#X obj 73 152 t p p b;
#X obj 200 423 route symbol;
#X obj 202 281 r matPt;
#X obj 119 109 r matPt;
#X obj 73 43 t b a;
#X obj 281 172 list split 1;
#X obj 281 138 list;
#X obj 296 454 list;
#X obj 75 20 inlet;
#X msg 296 476 \; mat\$1-r \$2;
#X obj 105 350 t p p;
#X obj 151 349 s matRgbPt;
#X obj 364 268 outlet;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 7 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 5 0 1 0;
#X connect 6 0 2 1;
#X connect 7 0 21 0;
#X connect 8 0 4 0;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 11 1 8 0;
#X connect 12 0 18 0;
#X connect 13 0 7 1;
#X connect 14 0 0 1;
#X connect 15 0 0 0;
#X connect 15 1 17 0;
#X connect 16 0 12 1;
#X connect 16 0 23 0;
#X connect 16 1 18 1;
#X connect 17 0 16 0;
#X connect 18 0 20 0;
#X connect 19 0 15 0;
#X connect 21 0 9 0;
#X connect 21 1 22 0;
#X restore 185 116 pd set;
#X obj 21 189 r matR-s;
#X obj 35 245 r matG-s;
#X obj 43 299 r matB-s;
#X obj 44 356 r matA-s;
#X obj 29 432 route set;
#X obj 21 211 list append R, f 8;
#X obj 35 267 list append G, f 8;
#X obj 43 321 list append B, f 8;
#X obj 44 378 list append A, f 8;
#X obj 29 411 list trim;
#X obj 89 456 list prepend;
#X obj 300 144 pack f f f;
#X obj 301 110 t b f;
#X obj 363 111 t b f;
#X obj 238 24 r matR-s;
#X obj 300 24 r matG-s;
#X obj 362 24 r matB-s;
#X obj 238 45 * 256;
#X obj 237 64 i;
#X obj 301 44 * 256;
#X obj 300 63 i;
#X obj 364 44 * 256;
#X obj 363 63 i;
#X msg 30 479 \; SYS_GUI set settings(rgb\$1\$3) \$2;
#X text 40 3 set enabled parameter;
#X text 23 166 send values to gui;
#X text 237 5 change canvas color;
#X msg 300 268 \; SYS_GUI .vmapgui.n.mat.pw.param.c.\$4.v configure
-bg #[format %2.2x \$1][format %2.2x \$2][format %2.2x \$3], f 22
;
#X obj 300 248 list append ambient;
#X obj 364 84 min 255;
#X obj 300 83 min 255;
#X obj 240 94 min 255;
#X obj 354 419 r matRgbId;
#X obj 302 448 pack 0 0;
#X obj 302 396 r matRgbEnable-s;
#X msg 302 472 \; SYS_GUI set settings(mat\$2) \$1;
#X obj 200 186 r matSel;
#X msg 42 117 \; matRgbSel \$1 \; matRgbEnable-r \$2 \; matRgbChange
bang \;;
#X obj 42 62 route enable change;
#X connect 0 0 1 0;
#X connect 1 0 41 0;
#X connect 2 0 31 1;
#X connect 2 0 13 1;
#X connect 3 0 8 0;
#X connect 4 0 9 0;
#X connect 5 0 10 0;
#X connect 6 0 11 0;
#X connect 7 1 13 0;
#X connect 8 0 12 0;
#X connect 9 0 12 0;
#X connect 10 0 12 0;
#X connect 11 0 12 0;
#X connect 12 0 7 0;
#X connect 13 0 26 0;
#X connect 14 0 31 0;
#X connect 15 0 14 0;
#X connect 15 1 14 1;
#X connect 16 0 14 0;
#X connect 16 1 14 2;
#X connect 17 0 20 0;
#X connect 18 0 22 0;
#X connect 19 0 24 0;
#X connect 20 0 21 0;
#X connect 21 0 34 0;
#X connect 22 0 23 0;
#X connect 23 0 33 0;
#X connect 24 0 25 0;
#X connect 25 0 32 0;
#X connect 31 0 30 0;
#X connect 32 0 16 0;
#X connect 33 0 15 0;
#X connect 34 0 14 0;
#X connect 35 0 36 1;
#X connect 36 0 38 0;
#X connect 37 0 36 0;
#X connect 39 0 13 1;
#X connect 39 0 31 1;
#X connect 41 0 40 0;
#X connect 41 2 2 0;
#X restore 13 92 pd materialParam;
#N canvas 0 50 447 323 Material_settings 0;
#X obj 21 196 list;
#X obj 21 75 r vmapgui-s;
#X obj 39 242 s SYS_GUI;
#X obj 21 115 route Return Sel view;
#X obj 235 174 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 21 95 route mat;
#X obj 218 148 route Render;
#X msg 69 161 \; matID-s \$1 \; matID-r set \$1;
#X msg 39 220 .vmapgui.n.mat.pw.set.cbox set \$1;
#X obj 21 272 s matName-r;
#X obj 218 192 s matView-r;
#X obj 7 12 settings-callback material mat;
#X connect 0 0 8 0;
#X connect 0 0 9 0;
#X connect 1 0 5 0;
#X connect 3 0 0 0;
#X connect 3 1 7 0;
#X connect 3 2 6 0;
#X connect 5 0 3 0;
#X connect 6 0 4 0;
#X connect 6 0 10 0;
#X connect 8 0 2 0;
#X restore 7 6 pd Material_settings;
#N canvas 543 491 715 436 materialTexture 0;
#X obj 181 205 r texturePt;
#X obj 64 226 element texture tex;
#X obj 64 182 until;
#X obj 64 203 f;
#X obj 93 204 + 1;
#X obj 64 150 t a b;
#X obj 64 132 max 1;
#X obj 64 73 getsize texture tex, f 11;
#X obj 64 3 r texPt;
#X obj 64 247 get tex-array name id;
#X obj 104 287 pack s f;
#X obj 222 400 s SYS_GUI;
#X obj 119 2 r texturePt;
#X obj 64 47 list;
#X obj 64 24 t b b;
#X msg 252 84 \; SYS_GUI .vmapgui.n.mat.pw.tex.menu delete 0 end,
f 37;
#X msg 224 332 .vmapgui.n.mat.pw.tex.menu add command -label \$1 -command
[list pdsend "vmapgui-s material texture set \$1 \$2"], f 29;
#X msg 316 171 list none 0;
#X msg 445 335 \; SYS_GUI .vmapgui.n.mat.pw.tex.mb configure -text
\$1, f 32;
#X obj 532 43 r vmapgui-s;
#X obj 532 64 route material;
#X obj 532 89 route texture;
#X obj 532 110 route set;
#X obj 531 142 list split 1;
#X msg 115 183 0;
#X connect 0 0 1 1;
#X connect 1 0 9 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 3 1;
#X connect 5 0 2 0;
#X connect 5 1 24 0;
#X connect 6 0 5 0;
#X connect 7 0 6 0;
#X connect 8 0 14 0;
#X connect 9 0 10 0;
#X connect 9 1 10 1;
#X connect 10 0 16 0;
#X connect 12 0 13 1;
#X connect 13 0 7 0;
#X connect 14 0 13 0;
#X connect 14 1 15 0;
#X connect 14 1 17 0;
#X connect 16 0 11 0;
#X connect 17 0 16 0;
#X connect 17 0 18 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 18 0;
#X connect 24 0 3 1;
#X restore 16 117 pd materialTexture;
#N canvas 745 200 449 501 materialHierarchy 0;
#X obj 147 231 element mat-array RGB;
#X obj 147 252 get rgb-param name;
#X obj 262 9 r matPt;
#X obj 104 79 getsize mat-array RGB;
#X obj 105 58 list;
#X obj 119 170 until;
#X obj 119 191 f;
#X obj 147 192 + 1;
#X msg 188 163 0;
#X obj 146 297 list prepend;
#X obj 230 297 t l;
#X obj 104 103 t b a b;
#X obj 104 323 list;
#X obj 199 382 l2s >;
#X obj 120 211 moses 1;
#X obj 105 15 r matRgbChange;
#X obj 104 343 route bang;
#X msg 50 381 "No material enabled";
#X obj 134 421 list prepend set settings(matHierarchy);
#X obj 134 472 s SYS_GUI;
#X obj 134 442 list trim;
#X connect 0 0 1 0;
#X connect 1 0 9 0;
#X connect 2 0 0 1;
#X connect 2 0 4 1;
#X connect 3 0 11 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 0 14 0;
#X connect 7 0 6 1;
#X connect 8 0 6 1;
#X connect 9 0 10 0;
#X connect 9 0 12 1;
#X connect 10 0 9 1;
#X connect 11 0 12 0;
#X connect 11 1 5 0;
#X connect 11 2 8 0;
#X connect 11 2 9 1;
#X connect 11 2 12 1;
#X connect 12 0 16 0;
#X connect 13 0 18 0;
#X connect 14 1 0 0;
#X connect 15 0 4 0;
#X connect 16 0 17 0;
#X connect 16 1 13 0;
#X connect 17 0 18 0;
#X connect 18 0 20 0;
#X connect 20 0 19 0;
#X restore 12 61 pd materialHierarchy;
#X restore 13 119 pd material;
#N canvas 519 141 450 109 media 0;
#N canvas 0 492 498 351 objectShow 0;
#X obj 115 36 list split 1;
#X obj 115 15 r objShow;
#X obj 155 57 get object id;
#X obj 42 63 sel 1;
#X msg 42 83 normal;
#X msg 98 83 hidden;
#X obj 42 111 list append, f 20;
#X obj 43 152 list trim;
#X obj 115 201 r delTexMediaPrev;
#X floatatom 152 229 5 0 0 0 - - -;
#X obj 43 308 s SYS_GUI;
#X msg 124 253 .vmapgui.n.tex.pw.media.c delete media\$1;
#X msg 43 130 list .vmapgui.n.tex.pw.media.c itemconfigure act\$2 -state
\$1;
#X connect 0 0 3 0;
#X connect 0 1 2 0;
#X connect 1 0 0 0;
#X connect 2 0 6 1;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 6 0;
#X connect 5 0 6 0;
#X connect 6 0 12 0;
#X connect 7 0 10 0;
#X connect 8 0 11 0;
#X connect 9 0 11 0;
#X connect 11 0 10 0;
#X connect 12 0 7 0;
#X restore 14 80 pd objectShow;
#N canvas 921 97 698 674 mediaThumbnail 0;
#N canvas 411 319 603 646 pix_preview 0;
#X obj 130 526 makefilename %c;
#X obj 239 506 makefilename %c;
#X obj 404 469 pix_data;
#X obj 131 172 until;
#X obj 130 199 f;
#X obj 163 198 + 1;
#X msg 168 172 0;
#X obj 131 86 t b b a;
#X obj 130 247 mod 8;
#X obj 147 364 pack f f;
#X obj 130 133 pow 2;
#X obj 130 153 max 1;
#X obj 130 113 f 8;
#X obj 130 218 t a a b;
#X obj 372 242 f 8;
#X obj 365 534 t l;
#X obj 239 378 sel 0;
#X obj 130 487 sel 7;
#X obj 99 590 list;
#X obj 144 391 unpack f f;
#X obj 130 270 t a a b a;
#X obj 434 449 / 8;
#X obj 491 449 / 8;
#X obj 99 611 outlet;
#N canvas 64 105 450 300 hexacolor 0;
#X obj 80 51 unpack f f f;
#X obj 80 147 makefilename %x;
#X obj 114 127 makefilename %x;
#X obj 149 108 makefilename %x;
#X obj 80 166 pack s s s;
#X msg 80 186 #\$1\$2\$3;
#X obj 79 26 inlet;
#X obj 80 210 outlet;
#X obj 149 70 * 15;
#X obj 114 86 * 15;
#X obj 80 108 * 15;
#X connect 0 0 10 0;
#X connect 0 1 9 0;
#X connect 0 2 8 0;
#X connect 1 0 4 0;
#X connect 2 0 4 1;
#X connect 3 0 4 2;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 6 0 0 0;
#X connect 8 0 3 0;
#X connect 9 0 2 0;
#X connect 10 0 1 0;
#X restore 426 488 pd hexacolor;
#X obj 400 5 inlet;
#X obj 99 -2 inlet;
#X obj 401 58 r pixPreviewRes;
#X obj 498 404 r pixPreviewRes;
#X obj 161 460 - 1;
#X obj 400 26 s pixPreviewRes;
#X obj 432 235 t b;
#X obj 484 228 t a;
#X obj 99 37 t b a;
#X obj 284 556 list append;
#X msg 130 507 123;
#X msg 239 485 125;
#X obj 340 318 /;
#X obj 340 340 i;
#X connect 0 0 34 0;
#X connect 1 0 34 0;
#X connect 2 1 24 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 0 13 0;
#X connect 5 0 4 1;
#X connect 6 0 4 1;
#X connect 7 0 12 0;
#X connect 7 1 6 0;
#X connect 7 1 31 0;
#X connect 7 2 32 0;
#X connect 8 0 20 0;
#X connect 9 0 19 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X connect 12 0 10 0;
#X connect 13 0 8 0;
#X connect 13 1 37 0;
#X connect 13 2 14 0;
#X connect 14 0 37 1;
#X connect 15 0 34 1;
#X connect 16 0 36 0;
#X connect 17 0 35 0;
#X connect 18 0 23 0;
#X connect 19 0 21 0;
#X connect 19 1 22 0;
#X connect 20 0 17 0;
#X connect 20 1 9 0;
#X connect 20 2 2 0;
#X connect 20 3 16 0;
#X connect 21 0 2 2;
#X connect 22 0 2 3;
#X connect 24 0 34 0;
#X connect 25 0 30 0;
#X connect 26 0 33 0;
#X connect 27 0 8 1;
#X connect 27 0 14 0;
#X connect 27 0 12 1;
#X connect 28 0 29 0;
#X connect 28 0 21 1;
#X connect 28 0 22 1;
#X connect 29 0 17 1;
#X connect 31 0 15 0;
#X connect 32 0 2 1;
#X connect 33 0 18 0;
#X connect 33 1 7 0;
#X connect 34 0 15 0;
#X connect 34 0 18 1;
#X connect 35 0 0 0;
#X connect 36 0 1 0;
#X connect 37 0 38 0;
#X connect 38 0 9 1;
#X restore 17 249 pd pix_preview;
#X obj 17 27 r mediaPreview;
#X obj 17 53 t a b;
#X msg 97 231 64;
#X obj 340 266 f;
#X obj 375 265 + 1;
#N canvas 1204 58 649 464 mediaInfo 0;
#X obj 270 408 outlet;
#X obj 32 252 list append;
#X obj 82 4 inlet;
#X obj 270 389 list append 0;
#X obj 178 203 list append;
#X msg 178 131 "W:\$1;
#X obj 257 204 route 0 1 2 3;
#X msg 275 131 H:\$1;
#X obj 373 138 t a a;
#X obj 74 324 list append;
#X obj 98 64 t a a b;
#X obj 74 342 list append ";
#N canvas 0 50 450 300 imageData 0;
#X obj 68 20 inlet;
#X obj 68 256 outlet;
#X msg 68 211 B:\$1 C:\$2 T:\$3 U:\$4 N:\$5;
#X obj 68 191 pack f f f f f;
#X obj 68 126 get image-array bytes type colour-space upsidedown notowed
;
#X obj 68 97 element m-array image;
#X obj 193 64 r mPt;
#X obj 68 73 list prepend 0;
#X connect 0 0 7 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 4 1 3 1;
#X connect 4 2 3 2;
#X connect 4 3 3 3;
#X connect 4 4 3 4;
#X connect 5 0 4 0;
#X connect 6 0 5 1;
#X connect 7 0 5 0;
#X restore 171 267 pd imageData;
#N canvas 163 558 450 300 filmData 0;
#X obj 68 20 inlet;
#X obj 68 97 pointer;
#X obj 68 256 outlet;
#X msg 68 211 length:\$1;
#X obj 105 76 r mPt;
#X obj 68 126 get m-array length;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 1 1;
#X connect 5 0 3 0;
#X restore 260 268 pd filmData;
#X obj 32 107 get m-array name, f 15;
#X obj 178 112 get m-array width height type;
#X obj 98 45 pointer;
#X obj 145 14 r mPt;
#X connect 1 0 9 0;
#X connect 2 0 16 0;
#X connect 3 0 0 0;
#X connect 4 0 1 1;
#X connect 5 0 4 0;
#X connect 6 0 12 0;
#X connect 6 1 13 0;
#X connect 7 0 4 1;
#X connect 8 0 6 0;
#X connect 8 1 3 1;
#X connect 9 0 11 0;
#X connect 10 0 14 0;
#X connect 10 1 15 0;
#X connect 10 2 9 1;
#X connect 11 0 3 0;
#X connect 12 0 9 1;
#X connect 13 0 9 1;
#X connect 14 0 1 0;
#X connect 15 0 5 0;
#X connect 15 1 7 0;
#X connect 15 2 8 0;
#X connect 16 0 10 0;
#X connect 17 0 16 1;
#X restore 368 489 pd mediaInfo;
#X obj 76 588 list append;
#X obj 76 608 list trim;
#X text 6 6 object to tcl pixels;
#X obj 320 208 t b a b;
#X obj 290 284 moses;
#X msg 498 183 0;
#X obj 421 234 spigot;
#X msg 348 171 1;
#X obj 320 152 t a b;
#X obj 450 344 t b b;
#X obj 541 163 r mediaThumbnails;
#X obj 541 184 b;
#N canvas 31 68 450 300 texture2datastructure 0;
#X obj 147 84 t b a;
#X obj 147 159 pointer;
#X obj 147 49 inlet;
#X obj 147 232 outlet;
#X obj 173 103 text set -s m-array mediaPrev;
#X obj 147 178 get m-array id;
#X obj 344 82 r mPt;
#X obj 186 139 r mPt;
#X connect 0 0 1 0;
#X connect 0 1 4 0;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 5 0 3 0;
#X connect 6 0 4 3;
#X connect 7 0 1 1;
#X restore 17 268 pd texture2datastructure;
#X obj 76 628 s SYS_GUI;
#X obj 76 549 list append 0;
#X obj 359 93 r mediaPt;
#X obj 320 131 getsize media m;
#X obj 320 113 pointer;
#X obj 320 61 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 221 422 t a b;
#X obj 263 466 pointer;
#X obj 302 444 r mPt;
#X obj 263 488 get m-array id;
#X obj 221 451 t b a;
#X obj 76 529 list;
#X obj 76 502 del 100;
#X text 359 41 opening through file;
#X obj 520 47 t b b;
#X obj 544 18 r mdeleted;
#X obj 483 79 del 100;
#X obj 547 133 s mediaclearGUI;
#X obj 602 63 r mediaclear;
#X obj 377 287 r mediaPt;
#X obj 292 349 t b b;
#X obj 292 327 t b p;
#X obj 356 358 s mPt;
#X obj 291 306 element media m;
#X msg 359 232 1;
#N canvas 0 50 450 300 makeTempImage 0;
#X obj 106 20 inlet;
#X obj 165 272 outlet;
#X obj 157 195 textfile;
#X obj 107 195 getdir;
#X msg 106 44 0;
#X obj 107 96 t b b a;
#X obj 163 124 list prepend set;
#X obj 163 143 list trim;
#X text 211 95 save into temp file;
#X obj 106 74 text get -s m-array mediaPrev;
#X obj 277 53 r mPt;
#X msg 107 220 ::patco::vmap::makeThumbnail .vmapgui.n.media.pw.media
\$1/../tmp/mediaPreview, f 28;
#X msg 173 170 write ../tmp/mediaPreview cr;
#X connect 0 0 4 0;
#X connect 3 0 11 0;
#X connect 4 0 9 0;
#X connect 5 0 3 0;
#X connect 5 1 12 0;
#X connect 5 2 6 0;
#X connect 6 0 7 0;
#X connect 7 0 2 0;
#X connect 9 0 5 0;
#X connect 10 0 9 3;
#X connect 11 0 1 0;
#X connect 12 0 2 0;
#X restore 221 382 pd makeTempImage;
#X obj 324 538 r madd;
#X msg 324 561 \; SYS_GUI .vmapgui.n.media.pw.media.file configure
-text "Making Thumbnail... Please wait...", f 38;
#X connect 0 0 19 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 2 1 3 0;
#X connect 3 0 0 1;
#X connect 4 0 5 0;
#X connect 4 0 11 0;
#X connect 5 0 4 1;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X connect 8 0 20 0;
#X connect 10 0 4 0;
#X connect 10 1 11 1;
#X connect 10 2 44 0;
#X connect 11 0 43 0;
#X connect 11 1 16 0;
#X connect 12 0 13 1;
#X connect 13 0 4 0;
#X connect 14 0 13 1;
#X connect 15 0 10 0;
#X connect 15 1 14 0;
#X connect 16 1 12 0;
#X connect 17 0 18 0;
#X connect 18 0 13 0;
#X connect 19 0 40 0;
#X connect 21 0 7 0;
#X connect 22 0 24 1;
#X connect 23 0 15 0;
#X connect 24 0 23 0;
#X connect 25 0 24 0;
#X connect 26 0 30 0;
#X connect 26 1 27 0;
#X connect 27 0 29 0;
#X connect 28 0 27 1;
#X connect 29 0 21 1;
#X connect 30 0 32 0;
#X connect 30 1 31 1;
#X connect 31 0 21 0;
#X connect 32 0 31 0;
#X connect 34 0 36 0;
#X connect 34 1 37 0;
#X connect 35 0 34 0;
#X connect 36 0 25 0;
#X connect 38 0 37 0;
#X connect 39 0 43 1;
#X connect 40 0 45 0;
#X connect 40 1 6 0;
#X connect 41 0 40 0;
#X connect 41 1 42 0;
#X connect 43 0 41 0;
#X connect 44 0 4 1;
#X connect 45 0 26 0;
#X connect 46 0 47 0;
#X restore 12 14 pd mediaThumbnail;
#N canvas 726 775 366 169 MediaSelect 0;
#X obj 59 54 route media;
#X obj 59 35 r vmapgui-s;
#X obj 169 68 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 59 94 change;
#X obj 59 73 route select;
#X msg 60 118 \; mID-s \$1 \; mID-r set \$1;
#X floatatom 179 116 5 0 0 0 - - -;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 2 0 5 0;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 4 0 6 0;
#X restore 164 33 pd MediaSelect;
#N canvas 960 241 779 596 mediaCursor 0;
#X obj 103 58 route media;
#X obj 103 39 r vmapgui-s;
#X obj 148 515 s SYS_GUI;
#X obj 24 216 r texViewFrame;
#X obj 103 77 route cursor;
#X obj 190 167 unpack f f f;
#X obj 241 295 /;
#X obj 241 314 * 240;
#X obj 25 239 list split 1;
#X obj 139 362 i;
#X obj 133 270 spigot;
#X obj 95 347 swap;
#X msg 138 185 0;
#X msg 106 184 1;
#X obj 94 535 s texViewFrame;
#X obj 94 374 pack;
#X obj 249 56 r texMediaID-s;
#X obj 517 307 r texMediaID-s;
#X obj 140 382 change;
#X obj 580 224 r \$0mediaPt;
#X obj 100 162 t b b;
#X obj 374 291 s texMediaCurFrame;
#X obj 103 114 route h0;
#X obj 102 139 route real init;
#X obj 175 228 unpack;
#X obj 148 476 pack f f f f f;
#X obj 140 401 t a a;
#X msg 148 495 .vmapgui.n.tex.pw.media.c coords h\$3 \$1 \$2 \$4 \$5
;
#X obj 325 434 + 5;
#X obj 364 434 + 12;
#X obj 195 380 + 0;
#X obj 407 447 s SYS_GUI;
#X obj 311 227 max 0;
#X msg 407 408 .vmapgui.n.tex.pw.media.c itemconfigure curFrame\$2
-text \$1;
#X obj 369 347 pack f f;
#X obj 249 77 route set;
#X msg 249 98 symbol h\$1;
#X obj 171 197 route current;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 3 0 8 0;
#X connect 4 0 22 0;
#X connect 5 0 32 0;
#X connect 5 1 30 0;
#X connect 5 2 6 1;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 8 0 11 1;
#X connect 8 1 10 0;
#X connect 9 0 18 0;
#X connect 10 0 6 0;
#X connect 11 0 15 0;
#X connect 11 1 15 1;
#X connect 12 0 10 1;
#X connect 13 0 10 1;
#X connect 15 0 14 0;
#X connect 16 0 35 0;
#X connect 17 0 25 2;
#X connect 17 0 34 1;
#X connect 18 0 26 0;
#X connect 20 0 13 0;
#X connect 22 0 23 0;
#X connect 23 0 20 0;
#X connect 23 1 37 0;
#X connect 23 2 5 0;
#X connect 23 2 12 0;
#X connect 24 0 30 0;
#X connect 24 1 6 1;
#X connect 25 0 27 0;
#X connect 26 0 25 0;
#X connect 26 1 28 0;
#X connect 27 0 2 0;
#X connect 28 0 25 3;
#X connect 29 0 25 4;
#X connect 30 0 25 1;
#X connect 30 0 29 0;
#X connect 32 0 21 0;
#X connect 32 0 11 0;
#X connect 32 0 34 0;
#X connect 33 0 31 0;
#X connect 34 0 33 0;
#X connect 35 1 36 0;
#X connect 36 0 22 1;
#X connect 37 1 24 0;
#X restore 166 12 pd mediaCursor;
#N canvas 866 288 545 532 mediaClear 0;
#X obj 47 438 f;
#X obj 18 492 s SYS_GUI;
#X obj 195 346 makefilename %c;
#X obj 193 307 makefilename %c;
#X msg 193 287 123;
#X msg 195 327 125;
#X obj 88 326 list prepend;
#X obj 88 346 list append;
#X obj 88 372 list prepend;
#X obj 88 201 t b a b;
#X obj 88 393 list trim;
#X msg 88 292 destroy $w;
#X obj 18 58 t b b;
#X msg 18 80 .vmapgui.n.media.pw.media.c delete all;
#X msg 88 160 foreach w [winfo children .vmapgui.n.media.pw.media.c]
, f 25;
#X msg 47 461 .vmapgui.n.media.pw.media.cbox current \$1;
#X msg 317 170 .vmapgui.n.media.pw.media.file configure -text "",
f 31;
#X obj 18 37 r mediaclearGUI;
#X connect 0 0 15 0;
#X connect 2 0 7 1;
#X connect 3 0 6 1;
#X connect 4 0 3 0;
#X connect 5 0 2 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 10 0;
#X connect 9 0 11 0;
#X connect 9 1 8 1;
#X connect 9 2 4 0;
#X connect 9 2 5 0;
#X connect 10 0 1 0;
#X connect 11 0 6 0;
#X connect 12 0 13 0;
#X connect 12 1 14 0;
#X connect 12 1 16 0;
#X connect 13 0 1 0;
#X connect 14 0 9 0;
#X connect 15 0 1 0;
#X connect 16 0 1 0;
#X connect 17 0 12 0;
#X restore 13 38 pd mediaClear;
#X restore 13 58 pd media;
#N canvas 1216 101 667 475 modul 0;
#X obj 15 20 r vmapgui-s;
#X obj 15 41 route modul;
#N canvas 592 392 512 300 open 0;
#X obj 17 125 pointer;
#X obj 56 105 r modulPt;
#X obj 17 168 getsize modul mod;
#X obj 17 26 t b a;
#X obj 17 211 outlet;
#X obj 17 189 - 1;
#X obj 17 7 r modOpened;
#X connect 0 0 2 0;
#X connect 1 0 0 1;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 5 0 4 0;
#X connect 6 0 3 0;
#X restore 72 307 pd open;
#X obj 50 192 route enable add;
#N canvas 773 60 250 324 addModul 0;
#X obj 31 25 inlet;
#X obj 89 98 r modulPt;
#X obj 50 138 getsize modul mod;
#X obj 50 117 pointer;
#X obj 69 204 outlet;
#X obj 50 248 pointer;
#X obj 89 228 r modPt;
#X obj 89 182 s modadd;
#X obj 70 75 s deleteModParam;
#X obj 31 295 s addModParam;
#X obj 50 159 t b a b;
#X obj 31 56 t b b b;
#X obj 50 269 s modPt;
#X connect 0 0 11 0;
#X connect 1 0 3 1;
#X connect 2 0 10 0;
#X connect 3 0 2 0;
#X connect 5 0 12 0;
#X connect 6 0 5 1;
#X connect 10 1 4 0;
#X connect 10 2 7 0;
#X connect 11 0 9 0;
#X connect 11 1 3 0;
#X connect 11 2 8 0;
#X restore 96 244 pd addModul;
#X obj 96 263 t a a;
#X obj 196 380 s SYS_GUI;
#X msg 241 339 .modul.param.id set \$1, f 15;
#N canvas 774 32 794 457 lfo 0;
#X obj 29 12 inlet;
#X obj 80 55 outlet;
#X obj 29 33 route lfo;
#X obj 294 74 r modPt;
#X obj 333 380 list prepend .modul.lfo;
#X msg 333 400 \; SYS_GUI \$1.\$2 \$3 \$4;
#X msg 117 346 freq set \$1;
#N canvas 833 419 511 357 enableLfo 0;
#X obj 157 12 inlet;
#X obj 157 279 s SYS_GUI;
#X obj 157 234 list append;
#X obj 198 68 sel 0 1;
#X msg 284 141 normal;
#X msg 338 141 disabled;
#X obj 157 46 t b b a;
#X msg 66 299 \; SYS_GUI .modul.lfo.\$1 configure -command "::patco::vmap::sendscale
modul lfo \$1";
#X obj 67 270 symbol;
#X obj 309 20 r modEnabled;
#X obj 310 48 sel 0;
#X obj 311 70 t b b;
#X msg 158 120 lfo.waveshape \, lfo.mb \, midi.learn-freq \, midi.learn-amp
;
#X msg 157 255 .modul.\$1 configure -state \$2;
#X msg 29 117 lfo.freq \, lfo.amp;
#X connect 0 0 6 0;
#X connect 2 0 13 0;
#X connect 3 0 5 0;
#X connect 3 1 4 0;
#X connect 4 0 2 1;
#X connect 5 0 2 1;
#X connect 6 0 14 0;
#X connect 6 1 12 0;
#X connect 6 2 3 0;
#X connect 8 0 7 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 14 0;
#X connect 11 1 5 0;
#X connect 12 0 2 0;
#X connect 13 0 1 0;
#X connect 14 0 2 0;
#X restore 29 431 pd enableLfo;
#X obj 373 103 set -symbol mod-array waveshape;
#X obj 42 123 set mod-array lfo, f 9;
#X obj 104 122 set mod-array freq, f 9;
#X obj 556 83 r modPt;
#X obj 347 21 symbol;
#X msg 347 309 \; SYS_GUI .modul.lfo.waveshape configure -text \$1
;
#X msg 54 392 \; SYS_GUI set settings(lfoenable) \$1;
#X msg 396 181 \; SYS_GUI .modul.lfo.freq configure -command "::patco::vmap::sendscale
modul lfo freq" -state active;
#X obj 54 201 t p p;
#X obj 39 236 get mod-array lfo, f 9;
#X symbolatom 436 277 10 0 0 0 - - -;
#X obj 54 182 r modOpenPt;
#X obj 29 81 route enable freq amp;
#X obj 165 122 set mod-array amp, f 9;
#X obj 105 235 get mod-array freq amp waveshape;
#X msg 181 322 amp set \$1;
#X connect 0 0 2 0;
#X connect 2 0 20 0;
#X connect 2 1 1 0;
#X connect 3 0 10 1;
#X connect 3 0 9 1;
#X connect 3 0 21 1;
#X connect 4 0 5 0;
#X connect 6 0 4 0;
#X connect 11 0 8 1;
#X connect 12 0 8 0;
#X connect 12 0 13 0;
#X connect 16 0 22 0;
#X connect 16 1 17 0;
#X connect 17 0 7 0;
#X connect 17 0 14 0;
#X connect 19 0 16 0;
#X connect 20 0 7 0;
#X connect 20 0 9 0;
#X connect 20 1 10 0;
#X connect 20 2 21 0;
#X connect 20 3 12 0;
#X connect 22 0 6 0;
#X connect 22 1 23 0;
#X connect 22 2 18 0;
#X connect 22 2 13 0;
#X connect 23 0 4 0;
#X restore 156 102 pd lfo;
#X obj 189 60 r modEnabled;
#X obj 156 82 spigot;
#X obj 15 62 route open param id midi;
#N canvas 897 106 618 525 midi 0;
#X obj 14 6 inlet;
#X obj 14 27 route learn;
#X obj 14 72 s modMidiLearn;
#X obj 197 243 text get -s mod-array midi, f 15;
#N canvas 0 50 450 300 counter 0;
#X obj 166 29 inlet;
#X obj 169 207 outlet;
#X obj 167 117 until;
#X obj 167 138 f;
#X obj 214 138 + 1;
#X obj 167 86 t a b;
#X msg 214 117 0;
#X connect 0 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 3 1;
#X connect 5 0 2 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X restore 197 224 pd counter;
#X obj 254 412 s SYS_GUI;
#X obj 254 390 list trim;
#X obj 170 72 text size -s mod-array midi, f 12;
#X obj 197 276 route bang;
#X msg 42 236 value \, freq \, amp;
#X obj 257 39 t b p;
#X obj 197 146 t b b;
#X msg 197 204 3;
#X obj 170 116 sel 0;
#X obj 257 12 r modPt;
#X obj 42 262 symbol;
#X msg 42 308 set settings(\$1) "none";
#X msg 254 341 set settings(\$2) "\$1 \$3 \$4";
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 3 0 8 0;
#X connect 4 0 3 0;
#X connect 6 0 5 0;
#X connect 7 0 13 0;
#X connect 8 1 17 0;
#X connect 9 0 15 0;
#X connect 10 0 7 0;
#X connect 10 1 3 3;
#X connect 10 1 7 1;
#X connect 11 0 12 0;
#X connect 11 1 9 0;
#X connect 12 0 4 0;
#X connect 13 0 9 0;
#X connect 13 1 11 0;
#X connect 14 0 10 0;
#X connect 15 0 16 0;
#X connect 16 0 6 0;
#X connect 17 0 6 0;
#X restore 120 122 pd midi;
#X msg 128 434 \; SYS_GUI destroy .modul \, ::patco::vmap::drawModul
.modul \$5;
#X obj 15 384 t a a;
#X obj 15 331 list;
#X obj 15 419 s modOpen;
#X obj 304 224 r modEnabled;
#X msg 304 245 \; SYS_GUI set settings(paramenable) \$1;
#X obj 50 350 s modEnable;
#X obj 85 163 s modChangeId;
#N canvas 0 50 450 300 modState 0;
#X obj 138 271 s SYS_GUI;
#X msg 138 247 .modul.\$1 configure -state \$2;
#X obj 138 226 list append;
#X obj 165 56 sel 0 1;
#X obj 138 38 t b a;
#X msg 273 107 normal;
#X msg 283 139 disabled;
#X msg 138 108 param.id \, param.add \, lfo.enable \, midi.learn-value
, f 12;
#X obj 138 19 r modEnabled;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 6 0;
#X connect 3 1 5 0;
#X connect 4 0 7 0;
#X connect 4 1 3 0;
#X connect 5 0 2 1;
#X connect 6 0 2 1;
#X connect 7 0 2 0;
#X connect 8 0 4 0;
#X restore 305 288 pd modState;
#X obj 247 116 r modChangeId;
#X obj 85 143 route modul;
#X obj 247 146 route bang;
#X msg 123 338 .modul.param.id configure -from 0 -to \$1, f 17;
#X obj 324 148 r modID-r;
#X msg 304 180 \; SYS_GUI if [winfo exist .modul.param.id] [list .modul.param.id
set \$1];
#X msg 402 81 \; SYS_GUI set settings(\$1) \$2;
#X obj 402 50 r modGuiSetting;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 25 0;
#X connect 3 0 19 0;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 5 1 25 0;
#X connect 7 0 6 0;
#X connect 9 0 10 1;
#X connect 10 0 8 0;
#X connect 11 0 15 0;
#X connect 11 1 3 0;
#X connect 11 2 23 0;
#X connect 11 3 12 0;
#X connect 11 4 10 0;
#X connect 14 0 16 0;
#X connect 14 1 13 0;
#X connect 15 0 14 0;
#X connect 17 0 18 0;
#X connect 22 0 24 0;
#X connect 23 0 20 0;
#X connect 24 1 27 0;
#X connect 25 0 6 0;
#X connect 26 0 27 0;
#X connect 29 0 28 0;
#X restore 13 78 pd modul;
#X connect 1 0 0 0;
#X connect 3 0 7 0;
#X connect 6 0 7 1;
#X connect 7 0 5 0;
